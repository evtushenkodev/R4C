# Тестовое задание для компании BST Digital


### Для запуска проекта вам потребуется выполнить следующие комманды:

## Клонирование репозитория

Для начала работы с проектом, склонируйте его себе на локальный компьютер:

```bash
git clone https://github.com/maxcrimea/R4C.git
cd R4C
```

## Настройка окружения

Создайте файл .env в корневой директории проекта, используя env.example как шаблон.

## создайте и активируйте виртуальное окружение:

для Windows:
```
python -m venv venv
venv\Scripts\activate.bat
```

для MacOS и Linux:
```
python -m venv venv
source .venv/Scripts/activate
```

## Установите зависимости:
```
pip install -r requirements.txt
```

## Выполнить миграции:
```
python manage.py makemigrations
python manage.py migrate
```

## Создайте суперпользователя:
```
python manage.py createsuperuser
```

## Запустить проект:
```
python manage.py runserver
```

## Запуск тестов

Для запуска тестов выполните следующую команду:

```
python manage.py test
```

## После успешного запуска, проект будет доступен по адресу:

Admin панель: http://localhost:8000/admin
### Добавление робота.
Добавление робота в базу данных осуществляется путем отправки POST запроса на:
http://localhost:8000/api/v1/robots/create_robot/

Пример входных данных:
```
{
 "model": "R2",
 "version": "D2",
 "created": "2022-12-31 23:59:59"
}
```

### Скачивание отчета в формате Excel.
Для формирования недельного отчета необходимо отправить GET запрос на:
http://localhost:8000/api/v1/robots/robot_report/

### Создание заказа.
Для создания заказа необходимо отправить POST запрос на:
http://localhost:8000/api/v1/orders/make_order/

Пример входных данных:
```{"model":"R2","version":"D2","email":"example@mail.com"}```

Если робот уже присутствует в базе данных, то заказ будет успешно создан,
и робот будет забронирован с помощью установки флага "ordered".
Если робота еще нет в базе данных,
то при добавлении робота с нужной моделью будет отправлено уведомление по электронной почте.
